/*******************************************************************
*Copyright(c) 2020 Ocean University of China. All rights reserved. *
*This file is created by: 									 	   *
*............................................................	   *
*............................................................	   *
*............................................................	   *
*............................................................	   *
*..............!M1...M*............+.....*`..................	   *
*......`]]]]]]]YM]]]]MY]]]]EMN~....M]...1M+.KF]]]]]]]ME......	   *
*.........!W*]]YM]]]]MY]]*MK.......M]..*]...K].......M!......	   *
*.........!M...!M....M!...M!.......M].!]....K].......M!......	   *
*.........!M...!M....M!...M!.......M]...F*..KK]]]]]]]M!......	   *
*...........KK..........KE.........M]**YNM;.K].......M!......	   *
*...........KW]]]]]]]]]]WK.........M]..1;...K].......M!......	   *
*...........KW]]]]]]]]]]WK.........M].......K].......M]......	   *
*...........*~..........1;.........F;........................	   *
*............................15020041003......................	   *
*............................................................ 	   *                                                                          

********************************************************************/
#include<stdio.h>
#include<stdlib.h>
#include<sys/types.h>
#include<unistd.h>
#include<sys/wait.h>

int main()
{
    pid_t pid;
    int status,i;
    //子进程输出pid,返回5
    if(fork()==0){
        printf("This is the child process,pid =%d\n",getpid());
        exit(5);
    }
    //父进程等待子进程四
    else{
        sleep(1);
        printf("This is the parent process ,wait for child...\n");
        pid=wait(&status);
        i=WEXITSTATUS(status);
        printf("child's pid =%d. exit status=%d\n",pid,i);
    }

    return 0;
}
